{
    "table": {
        "name": "messages",
        "schema": "public"
    },
    "role": "user",
    "permissions": {
        "select": {
            "columns": [
                "id",
                "chat_id",
                "content",
                "is_bot",
                "created_at"
            ],
            "filter": {
                "chat": {
                    "user_id": {
                        "_eq": "X-Hasura-User-Id"
                    }
                }
            },
            "allow_aggregations": true
        },
        "insert": {
            "check": {
                "chat": {
                    "user_id": {
                        "_eq": "X-Hasura-User-Id"
                    }
                }
            },
            "columns": [
                "chat_id",
                "content",
                "is_bot"
            ]
        },
        "update": {
            "columns": [
                "content"
            ],
            "filter": {
                "_and": [
                    {
                        "chat": {
                            "user_id": {
                                "_eq": "X-Hasura-User-Id"
                            }
                        }
                    },
                    {
                        "is_bot": {
                            "_eq": false
                        }
                    }
                ]
            },
            "check": {
                "chat": {
                    "user_id": {
                        "_eq": "X-Hasura-User-Id"
                    }
                }
            }
        },
        "delete": {
            "filter": {
                "_and": [
                    {
                        "chat": {
                            "user_id": {
                                "_eq": "X-Hasura-User-Id"
                            }
                        }
                    },
                    {
                        "is_bot": {
                            "_eq": false
                        }
                    }
                ]
            }
        }
    }
}